import{r as d,j as e,aV as S,l as p,aF as t,aM as h}from"./index-hfxJ9ND0.js";function y({items:x,defaultSelected:a,onApply:j}){const[f,b]=d.useState(!1),[n,o]=d.useState(a);d.useEffect(()=>{f&&o(a)},[f,a]);const g=(l,s)=>{o(r=>({...r,[l]:s}))},u=()=>{j(n)},F=()=>{const l=Object.fromEntries(x.map(s=>[s.id,null]));o(l)},c=Object.values(a).filter(Boolean).length,v=Object.values(n).filter(Boolean).length,O=c?`${c} applied ${c>1?"filters":"filter"}`:"No filters applied";return e.jsxs(S,{onOpenChange:b,children:[e.jsx(p,{"aria-label":"Open filters",leftIcon:"filter",size:"md",variant:"secondary",children:"Filter"}),e.jsx(t,{isDismissable:!0,"aria-label":"Filters",children:e.jsxs(t.Dialog,{children:[e.jsx(t.Header,{title:"Filters",description:O}),e.jsx(t.Content,{className:"flex flex-col gap-4",children:x.map(({options:l,...s})=>{const r=`Filter by ${s.label?.toLowerCase()}`;return e.jsx(h,{...s,isInvalid:s.isInvalid&&!!n[String(s.id)],"aria-label":r,placeholder:r,className:"w-80",value:n[String(s.id)],onChange:i=>g(String(s.id),String(i)),children:e.jsx(h.ListBox,{children:l.map(i=>e.jsx(h.Item,{...i},i.id))})},s.id)})}),e.jsxs(t.Footer,{className:"flex justify-between",children:[e.jsx(p,{onPress:F,variant:"tertiary",isDisabled:!v,children:"Reset filters"}),e.jsx(p,{onPress:u,slot:"close",children:"Apply"})]})]})})]})}export{y as F};
