import{j as e,d as h,I as A,T as m,D as h0,u as g0,$ as W,e as Y,f as J,h as L,i as O,k as X,l as Z,m as I,n as C,q as e0,S as $,N as p,r as b,o as p0,p as x0,M as y,L as b0,s as v0,t as j0,v as y0,w as w0,x as z0,A as q,y as t0,z as N0,C as k0,E as S0,F as _0,H as s0,J as n0,K as L0,O as a0,P as x,Q as I0,U as Q,V as P0,W as A0,X as i0,Y as $0,Z as D0,a0 as B,a1 as c0,a2 as z,a3 as E0,a4 as O0,a5 as C0}from"./index-Aj8lmPfQ.js";import{u as N}from"./useQuery-D2qmIidq.js";import{u as l0}from"./use-breakpoint-BWT3ojiI.js";import{u as T0,a as T}from"./use-side-panel-DszmUueS.js";import{A as F0}from"./proxy.account.me-BTsU0ieb.js";import{E as R0}from"./empty-list-CA93N3UA.js";import{u as M0}from"./use-api-C0GZRe3W.js";import"./useBaseQuery-CGDUSr1J.js";function U0(t){const s=t.split(" ");return s.length===0?"":s.length===1?s[0].substring(0,2).toUpperCase():s[0].charAt(0).toUpperCase()+s[1].charAt(0).toUpperCase()}function P({icon:t,text:s,url:n,isLoading:a,isOffline:l,className:r}){return e.jsxs("div",{className:h("relative size-8 shrink-0 lg:size-9",r),children:[e.jsx("div",{className:"bg-accent inline-flex h-full w-full shrink-0 flex-col items-center justify-center overflow-hidden rounded-full align-top",children:a?e.jsx("div",{className:"bg-accent-secondary h-full w-full animate-pulse"}):t?e.jsx(A,{type:t,size:"lg",className:"text-on-brand"}):e.jsx(m,{as:"div",size:"sm",weight:"medium",className:"text-on-brand",children:n?e.jsx("img",{src:n,alt:s,className:"h-full w-full object-cover"}):s?U0(s):e.jsx("img",{alt:"Nestor Doe",src:h0,className:"mr-0.5 mt-4 max-w-12"})})}),l!==void 0&&e.jsx("div",{className:h("border-1 border-background-primary absolute -bottom-0.5 -right-0.5 size-3 rounded-full",a?"bg-warning":l?"bg-error":"bg-success")})]})}function q0(t){const s=g0();return t.find(l=>s({to:l,fuzzy:!0,pending:!0}))??t.find(l=>s({to:l,fuzzy:!0}))}function Q0(){return e.jsxs(m,{as:"div",size:"sm",className:"bg-accent-tertiary text-accent grid grid-cols-[auto_1fr] gap-x-2 rounded-md px-2 py-1",children:[e.jsx("div",{className:"row-start-1 flex items-center",children:e.jsx(A,{type:"info-circle",size:"sm"})}),e.jsx("p",{className:"row-start-1",children:e.jsx("strong",{children:"Demo Mode"})}),e.jsx(m,{size:"xs",className:"text-secondary col-start-2 row-start-2",children:"You're signed in as a demo user."})]})}function B0({open:t,setOpen:s,title:n,children:a}){return e.jsx(W,{isDismissable:!0,isOpen:t,onOpenChange:s,className:"text-primary fixed inset-0 z-50 bg-black/50 data-[entering]:animate-[modal-blur_300ms] data-[exiting]:animate-[modal-blur_300ms_reverse_ease-in]",children:e.jsx(Y,{className:"bg-primary fixed inset-y-0 right-0 w-full max-w-2xl overflow-y-scroll p-4 shadow-lg data-[entering]:animate-[modal-slide_300ms] data-[exiting]:animate-[modal-slide_300ms_reverse_ease-in]",children:e.jsxs(J,{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[e.jsx(m,{variant:"heading",size:"md",slot:"title",children:n}),e.jsx(L,{icon:"close",slot:"close",variant:"tertiary"})]}),a]})})})}function K0({text:t,color:s="accent",underline:n="always",children:a}){return e.jsx(O,{label:t,offset:2,maxWidth:400,children:e.jsx(X,{className:h("cursor-help decoration-dashed decoration-1 underline-offset-2 hover:underline",s==="accent"&&"text-accent hover:text-accent-hover",s==="inherit"&&"hover:opacity-80",n==="always"&&"underline"),children:a})})}const H0="/assets/plakar-illustration-hello-CUlCX5j7.svg";function r0({href:t,onClick:s}){const n=!t;return e.jsxs("div",{className:"bg-accent grid grid-cols-[1fr_auto] items-center rounded-sm",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsxs("div",{className:"flex flex-col justify-center gap-0.5 py-2 pl-3",children:[e.jsxs(m,{className:"text-on-brand",weight:"medium",size:"sm",children:[n?"Sign in":e.jsx(Z,{href:t,onPress:s,className:"hover:text-on-brand/80 underline",children:"Sign in"})," ","to get access to all features"]}),e.jsx(m,{className:"text-on-brand",size:"xs",children:"Magic link or GitHub"})]}),e.jsx("div",{className:"self-end",children:e.jsx("img",{alt:"plakar.io",src:H0,className:"h-[70px] w-[90px]"})})]}),n&&e.jsx(I,{leftIcon:"right-to-bracket",variant:"accent-tertiary",className:"mr-2 sm:mr-6",onClick:s,slot:"close",children:"Sign in"})]})}const K="/assets/logo-full-enterprise-CTgFFQd4.svg",V0="data:image/svg+xml,%3csvg%20width='1215'%20height='287'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cg%3e%3ctitle%3eLayer%201%3c/title%3e%3cpath%20id='svg_2'%20fill='white'%20d='m208.3999,118.9889c-2.844,-9.076%20-7.505,-17.333%20-13.549,-24.355c4.291,-3.188%207.07,-8.321%207.07,-14.101c0,-9.6785%20-7.79,-17.519%20-17.39,-17.519c-7.869,0%20-14.512,5.2629%20-16.657,12.4787c-7.676,-3.0012%20-16.015,-4.6454%20-24.739,-4.6454c-7.861,0%20-15.416,1.3426%20-22.451,3.7981c-2.402,-6.7778%20-8.831,-11.6314%20-16.386,-11.6314c-9.607,0%20-17.39,7.8476%20-17.39,17.519c0,5.091%202.152,9.671%205.595,12.874c-6.572,7.273%20-11.618,15.968%20-14.633,25.574l0,0.015c-25.7723,2.987%20-45.7858,25.036%20-45.7858,51.795c0,28.799%2023.178,52.148%2051.7658,52.148c12.786,0%2024.482,-4.681%2033.513,-12.421l42.129,0.086l9.387,-0.057c9.03,7.725%2020.712,12.392%2033.484,12.392c28.588,0%2051.766,-23.349%2051.766,-52.148c0,-26.745%20-19.985,-48.787%20-45.729,-51.802zm-65.279,-36.9698c4.818,0%209.493,0.6318%2013.962,1.8811l-8.581,33.8537c-0.257,1.019%20-1.083,1.716%20-2.038,1.701c-1.861,-0.029%20-4.904,-0.021%20-6.764,0.007c-0.955,0.015%20-1.782,-0.682%20-2.046,-1.701l-8.524,-33.8391c4.49,-1.2637%209.166,-1.9027%2013.984,-1.9027l0.007,0zm9.073,61.5318l-5.602,4.997c-1.989,1.774%20-4.989,1.774%20-6.978,0l-5.602,-4.997c-3.628,-3.238%20-1.354,-9.269%203.492,-9.269l11.205,0c4.846,0%207.113,6.038%203.492,9.269l-0.007,0zm-32.401,-27.485c3.949,0%207.149,4.366%207.149,9.758c0,5.392%20-3.2,9.757%20-7.149,9.757c-3.948,0%20-7.149,-4.365%20-7.149,-9.757c0,-5.392%203.201,-9.758%207.149,-9.758zm50.269,63.384c2.409,2.463%202.388,6.426%20-0.057,8.853c-1.212,1.206%20-2.787,1.802%20-4.369,1.802c-1.582,0%20-3.207,-0.624%20-4.426,-1.866c-3.286,-3.353%20-5.538,-8.027%20-6.529,-13.326c-4.112,0.876%20-8.31,1.321%20-12.508,1.321c-3.592,0%20-7.184,-0.323%20-10.72,-0.969c-1.019,5.148%20-3.25,9.692%20-6.457,12.974c-1.219,1.242%20-2.822,1.866%20-4.426,1.866c-1.604,0%20-3.157,-0.603%20-4.369,-1.802c-2.445,-2.427%20-2.473,-6.397%20-0.057,-8.853c1.696,-1.73%203.507,-5.442%203.507,-10.669c0,-4.423%20-1.433,-8.666%20-3.643,-10.798c-2.48,-2.391%20-2.558,-6.355%20-0.185,-8.853c2.374,-2.499%206.315,-2.578%208.788,-0.187c3.407,3.288%205.809,8.128%206.864,13.563c7.405,1.709%2015.209,1.615%2022.572,-0.287l0.763,-0.194c1.104,-5.242%203.456,-9.887%206.763,-13.082c2.481,-2.391%206.415,-2.312%208.788,0.187c2.374,2.498%202.295,6.462%20-0.185,8.853c-2.216,2.139%20-3.642,6.375%20-3.642,10.798c0,5.227%201.81,8.939%203.514,10.669l0.014,0zm-3.642,-43.876c-3.949,0%20-7.149,-4.365%20-7.149,-9.757c0,-5.393%203.2,-9.758%207.149,-9.758c3.949,0%207.149,4.365%207.149,9.758c0,5.392%20-3.2,9.757%20-7.149,9.757z'/%3e%3cpath%20id='svg_3'%20fill='white'%20d='m366.1519,217.9879l0,-149.0468l64.335,0c33.114,0%2055.31,20.9598%2055.31,52.6908c0,32.094%20-22.779,52.108%20-56.765,52.108l-22.416,0l0,44.248l-40.464,0zm40.464,-75.688l14.265,0c14.191,0%2022.706,-7.932%2022.706,-20.668c0,-12.809%20-8.515,-20.378%20-22.706,-20.378l-14.265,0l0,41.046zm94.028,75.688l0,-149.0468l40.464,0l0,116.4428l60.259,0l0,32.604l-100.723,0zm155.797,0l-43.666,0l49.197,-149.0468l55.31,0l49.197,149.0468l-43.666,0l-8.588,-28.528l-49.197,0l-8.587,28.528zm17.757,-58.804l30.858,0l-14.847,-49.197l-1.164,0l-14.847,49.197zm106.636,58.804l0,-149.0468l40.464,0l0,60.2588l2.038,0l44.83,-60.2588l47.16,0l-50.362,66.3728l51.526,82.674l-48.324,0l-33.477,-55.893l-13.391,17.467l0,38.426l-40.464,0zm185.217,0l-43.666,0l49.197,-149.0468l55.311,0l49.2,149.0468l-43.67,0l-8.59,-28.528l-49.194,0l-8.588,28.528zm17.762,-58.804l30.85,0l-14.84,-49.197l-1.17,0l-14.84,49.197zm106.63,58.804l0,-149.0468l64.34,0c33.11,0%2055.31,18.9218%2055.31,50.6528c0,20.668%20-9.46,35.151%20-25.33,42.793l30.28,55.601l-43.96,0l-26.2,-49.197l-13.97,0l0,49.197l-40.47,0zm40.47,-80.637l14.26,0c14.19,0%2022.71,-5.021%2022.71,-17.757c0,-12.809%20-8.52,-18.34%20-22.71,-18.34l-14.26,0l0,36.097z'/%3e%3c/g%3e%3c/svg%3e",G0="data:image/svg+xml,%3csvg%20width='323'%20height='277'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cg%3e%3ctitle%3eLayer%201%3c/title%3e%3cpath%20id='svg_1'%20fill='white'%20d='m227.775,132.967c-2.856,-9.094%20-7.539,-17.368%20-13.61,-24.404c4.31,-3.195%207.102,-8.339%207.102,-14.1304c0,-9.6983%20-7.825,-17.5548%20-17.47,-17.5548c-7.904,0%20-14.577,5.2737%20-16.732,12.5042c-7.711,-3.0073%20-16.088,-4.6549%20-24.851,-4.6549c-7.897,0%20-15.487,1.3454%20-22.553,3.806c-2.413,-6.7917%20-8.871,-11.6553%20-16.461,-11.6553c-9.651,0%20-17.469,7.8637%20-17.469,17.5548c0,5.101%202.162,9.6914%205.62,12.9004c-6.601,7.288%20-11.6704,16%20-14.6989,25.627l0,0.014c-25.8896,2.993%20-45.9941,25.088%20-45.9941,51.902c0,28.858%2023.2834,52.254%2052.001,52.254c12.845,0%2024.594,-4.69%2033.665,-12.446l42.321,0.086l9.43,-0.057c9.071,7.741%2020.806,12.417%2033.636,12.417c28.718,0%2052.001,-23.396%2052.001,-52.254c0,-26.8%20-20.076,-48.887%20-45.937,-51.909zm-65.576,-37.0451c4.84,0%209.537,0.6332%2014.026,1.885l-8.62,33.9221c-0.258,1.022%20-1.088,1.72%20-2.048,1.706c-1.868,-0.029%20-4.926,-0.022%20-6.794,0.007c-0.96,0.014%20-1.79,-0.684%20-2.055,-1.705l-8.563,-33.9085c4.511,-1.2663%209.207,-1.9066%2014.047,-1.9066l0.007,0zm9.115,61.6581l-5.628,5.007c-1.997,1.777%20-5.012,1.777%20-7.009,0l-5.628,-5.007c-3.644,-3.245%20-1.36,-9.289%203.509,-9.289l11.255,0c4.868,0%207.145,6.051%203.508,9.289l-0.007,0zm-32.548,-27.541c3.966,0%207.181,4.374%207.181,9.777c0,5.403%20-3.215,9.778%20-7.181,9.778c-3.967,0%20-7.182,-4.375%20-7.182,-9.778c0,-5.403%203.215,-9.777%207.182,-9.777zm50.497,63.514c2.42,2.467%202.399,6.439%20-0.057,8.871c-1.217,1.208%20-2.8,1.806%20-4.389,1.806c-1.589,0%20-3.222,-0.626%20-4.446,-1.871c-3.301,-3.36%20-5.563,-8.044%20-6.558,-13.353c-4.132,0.877%20-8.349,1.324%20-12.566,1.324c-3.608,0%20-7.217,-0.324%20-10.768,-0.972c-1.024,5.159%20-3.265,9.713%20-6.487,13.001c-1.224,1.245%20-2.835,1.871%20-4.446,1.871c-1.611,0%20-3.172,-0.605%20-4.389,-1.806c-2.456,-2.432%20-2.484,-6.411%20-0.057,-8.871c1.704,-1.734%203.522,-5.454%203.522,-10.691c0,-4.432%20-1.439,-8.684%20-3.658,-10.821c-2.492,-2.396%20-2.571,-6.367%20-0.186,-8.871c2.384,-2.504%206.343,-2.583%208.828,-0.187c3.422,3.295%205.835,8.144%206.894,13.59c7.439,1.713%2015.279,1.619%2022.675,-0.287l0.766,-0.195c1.11,-5.252%203.473,-9.907%206.795,-13.108c2.492,-2.396%206.444,-2.317%208.828,0.187c2.384,2.504%202.305,6.475%20-0.186,8.871c-2.227,2.144%20-3.659,6.389%20-3.659,10.821c0,5.237%201.819,8.957%203.53,10.691l0.014,0zm-3.658,-43.967c-3.967,0%20-7.182,-4.374%20-7.182,-9.777c0,-5.403%203.215,-9.777%207.182,-9.777c3.966,0%207.181,4.374%207.181,9.777c0,5.403%20-3.215,9.777%20-7.181,9.777z'/%3e%3cpath%20id='svg_2'%20fill='white'%20d='m203.227,0c10.9,0%2019.759,8.85919%2019.759,19.7598l0,16.9238l77.983,0l0,-0.0088l1.624,0c11.253,0%2020.407,9.1531%2020.407,20.4063l0,199.7069c0,11.253%20-9.154,20.405%20-20.407,20.405l-282.1868,0c-11.25272,0%20-20.40579,-9.152%20-20.4062,-20.405l0,-199.6982c0.00006,-11.253%209.15326,-20.4059%2020.4062,-20.4062l79.6058,0l0,-16.9238c0,-10.90048%208.86,-19.75959%2019.76,-19.7598l83.455,0zm-182.8208,53.3516c-2.0568,0.0002%20-3.7293,1.6726%20-3.7294,3.7295l0,199.6979c0.0002,2.057%201.6727,3.73%203.7294,3.73l282.1868,0c2.057,0%203.73,-1.673%203.73,-3.73l0,-199.6979c0,-2.057%20-1.673,-3.7295%20-3.73,-3.7295l-282.1868,0zm99.3658,-36.6748c-1.639,0.0002%20-2.986,1.2965%20-3.075,2.915l0,17.0918l89.615,0l0,-16.9238c-0.001,-1.6961%20-1.389,-3.083%20-3.085,-3.083l-83.455,0z'/%3e%3c/g%3e%3c/svg%3e",W0="data:image/svg+xml,%3csvg%20width='287'%20height='287'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cg%3e%3ctitle%3eLayer%201%3c/title%3e%3cpath%20id='svg_2'%20fill='white'%20d='m208.568,119.084c-2.846,-9.082%20-7.511,-17.346%20-13.56,-24.374c4.294,-3.19%207.076,-8.3277%207.076,-14.1122c0,-9.6863%20-7.796,-17.5331%20-17.405,-17.5331c-7.874,0%20-14.522,5.2671%20-16.67,12.4887c-7.682,-3.0036%20-16.028,-4.6491%20-24.758,-4.6491c-7.868,0%20-15.429,1.3437%20-22.47,3.8012c-2.404,-6.7833%20-8.838,-11.6408%20-16.399,-11.6408c-9.615,0%20-17.4043,7.854%20-17.4043,17.5331c0,5.0946%202.1543,9.6792%205.5993,12.8842c-6.5766,7.279%20-11.6268,15.981%20-14.6441,25.595l0,0.015c-25.7932,2.989%20-45.8229,25.056%20-45.8229,51.837c0,28.822%2023.1968,52.19%2051.8076,52.19c12.7964,0%2024.5024,-4.685%2033.5394,-12.431l42.164,0.086l9.394,-0.058c9.038,7.732%2020.729,12.403%2033.511,12.403c28.611,0%2051.808,-23.368%2051.808,-52.19c0,-26.767%20-20.001,-48.827%20-45.766,-51.845zm-65.332,-36.9988c4.822,0%209.502,0.6324%2013.974,1.8827l-8.588,33.8801c-0.257,1.021%20-1.084,1.718%20-2.04,1.703c-1.862,-0.028%20-4.908,-0.021%20-6.77,0.008c-0.955,0.014%20-1.783,-0.683%20-2.047,-1.703l-8.531,-33.8666c4.494,-1.2646%209.173,-1.9042%2013.995,-1.9042l0.007,0zm9.081,61.5818l-5.607,5.001c-1.99,1.775%20-4.993,1.775%20-6.983,0l-5.607,-5.001c-3.631,-3.241%20-1.355,-9.277%203.495,-9.277l11.214,0c4.85,0%207.118,6.043%203.495,9.277l-0.007,0zm-32.427,-27.507c3.951,0%207.154,4.369%207.154,9.765c0,5.397%20-3.203,9.766%20-7.154,9.766c-3.952,0%20-7.155,-4.369%20-7.155,-9.766c0,-5.396%203.203,-9.765%207.155,-9.765zm50.309,63.435c2.411,2.465%202.39,6.431%20-0.057,8.86c-1.212,1.207%20-2.789,1.804%20-4.372,1.804c-1.584,0%20-3.21,-0.625%20-4.43,-1.869c-3.288,-3.355%20-5.542,-8.033%20-6.534,-13.336c-4.116,0.876%20-8.317,1.322%20-12.518,1.322c-3.595,0%20-7.191,-0.323%20-10.729,-0.97c-1.02,5.152%20-3.252,9.701%20-6.462,12.984c-1.22,1.244%20-2.825,1.869%20-4.43,1.869c-1.605,0%20-3.16,-0.604%20-4.372,-1.804c-2.447,-2.429%20-2.476,-6.402%20-0.057,-8.86c1.697,-1.732%203.509,-5.447%203.509,-10.678c0,-4.426%20-1.434,-8.673%20-3.645,-10.807c-2.482,-2.393%20-2.561,-6.359%20-0.185,-8.86c2.375,-2.501%206.319,-2.58%208.795,-0.187c3.409,3.291%205.813,8.134%206.869,13.574c7.411,1.71%2015.222,1.617%2022.59,-0.288l0.764,-0.194c1.105,-5.245%203.459,-9.894%206.769,-13.092c2.482,-2.393%206.42,-2.314%208.795,0.187c2.375,2.501%202.297,6.467%20-0.186,8.86c-2.218,2.141%20-3.645,6.381%20-3.645,10.807c0,5.231%201.812,8.946%203.517,10.678l0.014,0zm-3.645,-43.912c-3.951,0%20-7.154,-4.369%20-7.154,-9.765c0,-5.396%203.203,-9.765%207.154,-9.765c3.952,0%207.155,4.369%207.155,9.765c0,5.396%20-3.203,9.765%20-7.155,9.765z'/%3e%3c/g%3e%3c/svg%3e",Y0="/assets/logo-full-enterprise-accent-ug9xGwnU.svg",J0="/assets/logo-full-enterprise-Bo4qfKYn.svg",X0="data:image/svg+xml,%3csvg%20width='1215'%20height='287'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cg%3e%3ctitle%3eLayer%201%3c/title%3e%3crect%20id='svg_1'%20fill='black'%20rx='143.488'%20height='286.976'%20width='286.976'%20y='0'%20x='0'/%3e%3cpath%20id='svg_2'%20fill='white'%20d='m208.3999,118.9889c-2.844,-9.076%20-7.505,-17.333%20-13.549,-24.355c4.291,-3.188%207.07,-8.321%207.07,-14.101c0,-9.6785%20-7.79,-17.519%20-17.39,-17.519c-7.869,0%20-14.512,5.2629%20-16.657,12.4787c-7.676,-3.0012%20-16.015,-4.6454%20-24.739,-4.6454c-7.861,0%20-15.416,1.3426%20-22.451,3.7981c-2.402,-6.7778%20-8.831,-11.6314%20-16.386,-11.6314c-9.607,0%20-17.39,7.8476%20-17.39,17.519c0,5.091%202.152,9.671%205.595,12.874c-6.572,7.273%20-11.618,15.968%20-14.633,25.574l0,0.015c-25.7723,2.987%20-45.7858,25.036%20-45.7858,51.795c0,28.799%2023.178,52.148%2051.7658,52.148c12.786,0%2024.482,-4.681%2033.513,-12.421l42.129,0.086l9.387,-0.057c9.03,7.725%2020.712,12.392%2033.484,12.392c28.588,0%2051.766,-23.349%2051.766,-52.148c0,-26.745%20-19.985,-48.787%20-45.729,-51.802zm-65.279,-36.9698c4.818,0%209.493,0.6318%2013.962,1.8811l-8.581,33.8537c-0.257,1.019%20-1.083,1.716%20-2.038,1.701c-1.861,-0.029%20-4.904,-0.021%20-6.764,0.007c-0.955,0.015%20-1.782,-0.682%20-2.046,-1.701l-8.524,-33.8391c4.49,-1.2637%209.166,-1.9027%2013.984,-1.9027l0.007,0zm9.073,61.5318l-5.602,4.997c-1.989,1.774%20-4.989,1.774%20-6.978,0l-5.602,-4.997c-3.628,-3.238%20-1.354,-9.269%203.492,-9.269l11.205,0c4.846,0%207.113,6.038%203.492,9.269l-0.007,0zm-32.401,-27.485c3.949,0%207.149,4.366%207.149,9.758c0,5.392%20-3.2,9.757%20-7.149,9.757c-3.948,0%20-7.149,-4.365%20-7.149,-9.757c0,-5.392%203.201,-9.758%207.149,-9.758zm50.269,63.384c2.409,2.463%202.388,6.426%20-0.057,8.853c-1.212,1.206%20-2.787,1.802%20-4.369,1.802c-1.582,0%20-3.207,-0.624%20-4.426,-1.866c-3.286,-3.353%20-5.538,-8.027%20-6.529,-13.326c-4.112,0.876%20-8.31,1.321%20-12.508,1.321c-3.592,0%20-7.184,-0.323%20-10.72,-0.969c-1.019,5.148%20-3.25,9.692%20-6.457,12.974c-1.219,1.242%20-2.822,1.866%20-4.426,1.866c-1.604,0%20-3.157,-0.603%20-4.369,-1.802c-2.445,-2.427%20-2.473,-6.397%20-0.057,-8.853c1.696,-1.73%203.507,-5.442%203.507,-10.669c0,-4.423%20-1.433,-8.666%20-3.643,-10.798c-2.48,-2.391%20-2.558,-6.355%20-0.185,-8.853c2.374,-2.499%206.315,-2.578%208.788,-0.187c3.407,3.288%205.809,8.128%206.864,13.563c7.405,1.709%2015.209,1.615%2022.572,-0.287l0.763,-0.194c1.104,-5.242%203.456,-9.887%206.763,-13.082c2.481,-2.391%206.415,-2.312%208.788,0.187c2.374,2.498%202.295,6.462%20-0.185,8.853c-2.216,2.139%20-3.642,6.375%20-3.642,10.798c0,5.227%201.81,8.939%203.514,10.669l0.014,0zm-3.642,-43.876c-3.949,0%20-7.149,-4.365%20-7.149,-9.757c0,-5.393%203.2,-9.758%207.149,-9.758c3.949,0%207.149,4.365%207.149,9.758c0,5.392%20-3.2,9.757%20-7.149,9.757z'/%3e%3cpath%20id='svg_3'%20fill='black'%20d='m366.1519,217.9879l0,-149.0468l64.335,0c33.114,0%2055.31,20.9598%2055.31,52.6908c0,32.094%20-22.779,52.108%20-56.765,52.108l-22.416,0l0,44.248l-40.464,0zm40.464,-75.688l14.265,0c14.191,0%2022.706,-7.932%2022.706,-20.668c0,-12.809%20-8.515,-20.378%20-22.706,-20.378l-14.265,0l0,41.046zm94.028,75.688l0,-149.0468l40.464,0l0,116.4428l60.259,0l0,32.604l-100.723,0zm155.797,0l-43.666,0l49.197,-149.0468l55.31,0l49.197,149.0468l-43.666,0l-8.588,-28.528l-49.197,0l-8.587,28.528zm17.757,-58.804l30.858,0l-14.847,-49.197l-1.164,0l-14.847,49.197zm106.636,58.804l0,-149.0468l40.464,0l0,60.2588l2.038,0l44.83,-60.2588l47.16,0l-50.362,66.3728l51.526,82.674l-48.324,0l-33.477,-55.893l-13.391,17.467l0,38.426l-40.464,0zm185.217,0l-43.666,0l49.197,-149.0468l55.311,0l49.2,149.0468l-43.67,0l-8.59,-28.528l-49.194,0l-8.588,28.528zm17.762,-58.804l30.85,0l-14.84,-49.197l-1.17,0l-14.84,49.197zm106.63,58.804l0,-149.0468l64.34,0c33.11,0%2055.31,18.9218%2055.31,50.6528c0,20.668%20-9.46,35.151%20-25.33,42.793l30.28,55.601l-43.96,0l-26.2,-49.197l-13.97,0l0,49.197l-40.47,0zm40.47,-80.637l14.26,0c14.19,0%2022.71,-5.021%2022.71,-17.757c0,-12.809%20-8.52,-18.34%20-22.71,-18.34l-14.26,0l0,36.097z'/%3e%3c/g%3e%3c/svg%3e",Z0="data:image/svg+xml,%3csvg%20width='298'%20height='261'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cg%3e%3ctitle%3eLayer%201%3c/title%3e%3cpath%20id='svg_1'%20fill='black'%20d='m283.054,40.7604l-73.457,0l0,-19.9782c0,-11.46166%20-9.321,-20.7822%20-20.783,-20.7822l-79.148,0c-11.4621,0%20-20.7827,9.32054%20-20.7827,20.7822l0,19.9782l-73.4579,0c-8.50067,0%20-15.4254,6.9168%20-15.4254,15.4255l0,189.3951c0,8.501%206.91677,15.426%2015.4254,15.426l267.6286,0c8.501,0%2015.426,-6.917%2015.426,-15.426l0,-189.4031c0,-8.5007%20-6.917,-15.4254%20-15.426,-15.4254l0,0.0079zm-174.272,-19.9782c0,-0.4856%200.398,-0.8835%200.884,-0.8835l79.148,0c0.486,0%200.884,0.3979%200.884,0.8835l0,19.9782l-80.908,0l0,-19.9782l-0.008,0zm102.279,214.7938c-13.324,0%20-25.51,-4.839%20-34.934,-12.838l-9.79,0.063l-43.952,-0.087c-9.424,8.015%20-21.626,12.862%20-34.9662,12.862c-29.8241,0%20-53.997,-24.173%20-53.997,-53.997c0,-27.715%2020.8777,-50.542%2047.7647,-53.639l0,-0.015c3.152,-9.95%208.4132,-18.952%2015.2663,-26.482c-3.5897,-3.3187%20-5.8343,-8.0546%20-5.8343,-13.3317c0,-10.021%208.1266,-18.1476%2018.1475,-18.1476c7.88,0%2014.59,5.0224%2017.089,12.0427c7.339,-2.547%2015.219,-3.932%2023.425,-3.932c9.105,0%2017.805,1.7033%2025.812,4.8155c2.245,-7.474%209.178,-12.9262%2017.376,-12.9262c10.021,0%2018.147,8.1266%2018.147,18.1476c0,5.9935%20-2.905,11.3024%20-7.378,14.6057c6.304,7.267%2011.159,15.823%2014.128,25.216c26.855,3.12%2047.701,25.947%2047.701,53.646c0,29.824%20-24.173,53.997%20-53.997,53.997l-0.008,0z'/%3e%3cpath%20id='svg_2'%20fill='black'%20d='m143.398,143.772c-5.054,0%20-7.426,6.248%20-3.638,9.599l5.843,5.174c2.077,1.838%205.205,1.838%207.283,0l5.842,-5.174c3.781,-3.351%201.417,-9.599%20-3.638,-9.599l-11.684,0l-0.008,0z'/%3e%3cpath%20id='svg_3'%20fill='black'%20d='m124.916,145.109c4.115,0%207.458,-4.521%207.458,-10.1c0,-5.58%20-3.335,-10.101%20-7.458,-10.101c-4.123,0%20-7.458,4.521%20-7.458,10.101c0,5.579%203.335,10.1%207.458,10.1z'/%3e%3cpath%20id='svg_4'%20fill='black'%20d='m145.69,128.426c1.942,-0.032%205.118,-0.04%207.052,-0.008c0.987,0.016%201.855,-0.708%202.125,-1.759l8.947,-35.0535c-4.665,-1.2894%20-9.536,-1.9421%20-14.566,-1.9421c-5.03,0%20-9.902,0.6606%20-14.59,1.966l8.891,35.0376c0.271,1.059%201.138,1.783%202.133,1.767l0.008,-0.008z'/%3e%3cpath%20id='svg_5'%20fill='black'%20d='m177.687,159.15c-2.475,-2.587%20-6.582,-2.667%20-9.169,-0.191c-3.446,3.311%20-5.906,8.118%20-7.06,13.547l-0.796,0.199c-7.681,1.966%20-15.823,2.069%20-23.552,0.294c-1.099,-5.627%20-3.606,-10.634%20-7.164,-14.048c-2.578,-2.476%20-6.694,-2.396%20-9.169,0.191c-2.475,2.587%20-2.396,6.686%200.191,9.169c2.308,2.213%203.797,6.606%203.797,11.183c0,5.413%20-1.895,9.257%20-3.662,11.048c-2.515,2.547%20-2.491,6.654%200.064,9.169c1.266,1.25%202.905,1.871%204.553,1.871c1.648,0%203.343,-0.645%204.616,-1.927c3.351,-3.39%205.675,-8.102%206.742,-13.435c3.685,0.66%207.434,1.003%2011.183,1.003c4.378,0%208.763,-0.462%2013.046,-1.369c1.026,5.484%203.382,10.331%206.813,13.801c1.266,1.29%202.945,1.927%204.616,1.927c1.672,0%203.288,-0.621%204.553,-1.871c2.547,-2.515%202.579,-6.622%200.064,-9.169c-1.767,-1.791%20-3.661,-5.635%20-3.661,-11.048c0,-4.577%201.488,-8.97%203.796,-11.183c2.587,-2.475%202.667,-6.582%200.191,-9.169l0.008,0.008z'/%3e%3cpath%20id='svg_6'%20fill='black'%20d='m173.556,145.109c4.119,0%207.458,-4.522%207.458,-10.1c0,-5.579%20-3.339,-10.101%20-7.458,-10.101c-4.119,0%20-7.458,4.522%20-7.458,10.101c0,5.578%203.339,10.1%207.458,10.1z'/%3e%3c/g%3e%3c/svg%3e",e2="data:image/svg+xml,%3csvg%20width='287'%20height='287'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cg%3e%3ctitle%3eLayer%201%3c/title%3e%3crect%20id='svg_1'%20fill='black'%20rx='143.5'%20height='287'%20width='287'%20y='0'%20x='0'/%3e%3cpath%20id='svg_2'%20fill='white'%20d='m208.568,119.084c-2.846,-9.082%20-7.511,-17.346%20-13.56,-24.374c4.294,-3.19%207.076,-8.3277%207.076,-14.1122c0,-9.6863%20-7.796,-17.5331%20-17.405,-17.5331c-7.874,0%20-14.522,5.2671%20-16.67,12.4887c-7.682,-3.0036%20-16.028,-4.6491%20-24.758,-4.6491c-7.868,0%20-15.429,1.3437%20-22.47,3.8012c-2.404,-6.7833%20-8.838,-11.6408%20-16.399,-11.6408c-9.615,0%20-17.4043,7.854%20-17.4043,17.5331c0,5.0946%202.1543,9.6792%205.5993,12.8842c-6.5766,7.279%20-11.6268,15.981%20-14.6441,25.595l0,0.015c-25.7932,2.989%20-45.8229,25.056%20-45.8229,51.837c0,28.822%2023.1968,52.19%2051.8076,52.19c12.7964,0%2024.5024,-4.685%2033.5394,-12.431l42.164,0.086l9.394,-0.058c9.038,7.732%2020.729,12.403%2033.511,12.403c28.611,0%2051.808,-23.368%2051.808,-52.19c0,-26.767%20-20.001,-48.827%20-45.766,-51.845zm-65.332,-36.9988c4.822,0%209.502,0.6324%2013.974,1.8827l-8.588,33.8801c-0.257,1.021%20-1.084,1.718%20-2.04,1.703c-1.862,-0.028%20-4.908,-0.021%20-6.77,0.008c-0.955,0.014%20-1.783,-0.683%20-2.047,-1.703l-8.531,-33.8666c4.494,-1.2646%209.173,-1.9042%2013.995,-1.9042l0.007,0zm9.081,61.5818l-5.607,5.001c-1.99,1.775%20-4.993,1.775%20-6.983,0l-5.607,-5.001c-3.631,-3.241%20-1.355,-9.277%203.495,-9.277l11.214,0c4.85,0%207.118,6.043%203.495,9.277l-0.007,0zm-32.427,-27.507c3.951,0%207.154,4.369%207.154,9.765c0,5.397%20-3.203,9.766%20-7.154,9.766c-3.952,0%20-7.155,-4.369%20-7.155,-9.766c0,-5.396%203.203,-9.765%207.155,-9.765zm50.309,63.435c2.411,2.465%202.39,6.431%20-0.057,8.86c-1.212,1.207%20-2.789,1.804%20-4.372,1.804c-1.584,0%20-3.21,-0.625%20-4.43,-1.869c-3.288,-3.355%20-5.542,-8.033%20-6.534,-13.336c-4.116,0.876%20-8.317,1.322%20-12.518,1.322c-3.595,0%20-7.191,-0.323%20-10.729,-0.97c-1.02,5.152%20-3.252,9.701%20-6.462,12.984c-1.22,1.244%20-2.825,1.869%20-4.43,1.869c-1.605,0%20-3.16,-0.604%20-4.372,-1.804c-2.447,-2.429%20-2.476,-6.402%20-0.057,-8.86c1.697,-1.732%203.509,-5.447%203.509,-10.678c0,-4.426%20-1.434,-8.673%20-3.645,-10.807c-2.482,-2.393%20-2.561,-6.359%20-0.185,-8.86c2.375,-2.501%206.319,-2.58%208.795,-0.187c3.409,3.291%205.813,8.134%206.869,13.574c7.411,1.71%2015.222,1.617%2022.59,-0.288l0.764,-0.194c1.105,-5.245%203.459,-9.894%206.769,-13.092c2.482,-2.393%206.42,-2.314%208.795,0.187c2.375,2.501%202.297,6.467%20-0.186,8.86c-2.218,2.141%20-3.645,6.381%20-3.645,10.807c0,5.231%201.812,8.946%203.517,10.678l0.014,0zm-3.645,-43.912c-3.951,0%20-7.154,-4.369%20-7.154,-9.765c0,-5.396%203.203,-9.765%207.154,-9.765c3.952,0%207.155,4.369%207.155,9.765c0,5.396%20-3.203,9.765%20-7.155,9.765z'/%3e%3c/g%3e%3c/svg%3e";function o0({variant:t="full",className:s}){const a=C().value==="dark";return e.jsx("img",{alt:"plakar.io",src:{full:a?V0:X0,icon:a?W0:e2,"full-enterprise":a?K:J0,"full-enterprise-accent":a?K:Y0,"icon-enterprise":a?G0:Z0}[t],className:s})}const t2=t=>e0({queryKey:["api","discord","server_stats",t],queryFn:async()=>{const a=(await(await fetch(`https://discord.com/api/invites/${t}`)).json())?.profile?.member_count;if(a===void 0)throw new Error("Invalid response from Discord API");return a},refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});function s2({invite:t,variant:s="default"}){const{data:n,isPending:a,isSuccess:l}=N(t2(t));return e.jsxs("a",{target:"_blank",href:`https://discord.gg/${t}`,className:h("flex min-w-[60px] gap-1 rounded-sm border px-2 py-1",s==="default"?"border-primary bg-secondary text-secondary hover:bg-secondary-hover":"border-text-on-brand/50 text-on-brand"),children:[e.jsx(A,{type:"discord",size:"md",className:"shrink-0"}),a?e.jsx($,{variant:"text",size:"xs",width:"100%"}):l?e.jsx(m,{variant:"body",size:"xs",monospace:!0,children:n}):e.jsx(m,{variant:"body",size:"xs",children:"Discord"})]})}const n2=t=>e0({queryKey:["api","github","repo_stars",t],queryFn:async()=>{const n=await(await fetch(`https://api.github.com/repos/${t}`)).json();if(n.stargazers_count===void 0)throw new Error("Invalid response from GitHub API");return n.stargazers_count},refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});function a2({repo:t,variant:s="default"}){const{data:n,isPending:a,isSuccess:l}=N(n2(t));return e.jsxs("a",{target:"_blank",href:`https://github.com/${t}`,className:h("flex min-w-[60px] gap-1 rounded-sm border px-2 py-1",s==="default"?"border-primary bg-secondary text-secondary hover:bg-secondary-hover":"border-text-on-brand/50 text-on-brand"),children:[e.jsx(A,{type:"github",size:"md",className:"shrink-0"}),a?e.jsx($,{variant:"text",size:"xs",width:"100%"}):l?e.jsx(m,{variant:"body",size:"xs",monospace:!0,children:n}):e.jsx(m,{variant:"body",size:"xs",children:"GitHub"})]})}function H(t){const s=t.match(/^(v?[^-]+)-(.*)\.([a-f0-9]{7,})$/);return s?{Value:t,Pretty:`${s[1]}-${s[2]}.${s[3].substring(0,7)}`,Channel:`${s[1]}-${s[2]}`}:{Value:t,Pretty:t,Channel:t}}function d0({navItems:t,subNavItems:s,isExpanded:n,version:a,isFloating:l,canExpand:r,isDemo:o,user:c,controls:i,footer:u,isEnterprise:d=!1,handleToggle:v,onCloseMenu:f}){const{mode:k,toggleMode:D}=C(),E=n?`full${d?"-enterprise-accent":""}`:`icon${d?"-enterprise":""}`,f0=n&&!l?"chevrons-left":"chevrons-right",R=s.find(g=>g.label==="Logout"),S=s.find(g=>g.label==="Login"),j=s.find(g=>g.label==="Settings");return e.jsxs("div",{className:"flex min-h-full flex-col justify-between gap-4 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:h("flex items-center justify-between",d?"ml-[1.5px]":"ml-[3.5px]"),children:[e.jsx(Z,{href:t[0].href,children:e.jsx(o0,{variant:E,className:"h-[32px]"})}),n&&e.jsx(d2,{value:a,channel:!0})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("span",{className:"flex min-w-0 items-center justify-between gap-2",children:[e.jsxs("span",{className:"flex min-w-0 items-center gap-2",children:[e.jsx("div",{className:"flex w-[39px] justify-center",children:c.isAuthenticated?e.jsx(P,{text:c.name||"",url:c.avatarUrl,isLoading:c.isPending,isOffline:!1}):e.jsx(P,{icon:"incognito",isLoading:c.isPending,isOffline:!0})}),n&&(c.isPending?e.jsx($,{variant:"text",size:"sm",width:135}):e.jsx(m,{className:"text-tertiary truncate",size:"sm",weight:"medium",children:c.isAuthenticated?c.name||"You are logged in":"Guest"}))]}),n&&e.jsxs("span",{className:"flex items-center gap-2",children:[!c.isAuthenticated&&!c.isPending&&e.jsx(L,{icon:"right-to-bracket",size:"sm",variant:"tertiary",tooltip:"Sign in",href:S?.href}),i]})]}),e.jsx(p,{"aria-label":"main navigation",children:t.map(({subItems:g,..._},M)=>g&&g.length>0?e.jsx(p.Group,{label:_.label,hideTitle:!n,children:g.map((U,m0)=>e.jsx(p.Item,{...U,onAction:f},`${U.label}${m0}`))},`${_.label}${M}`):e.jsx(p.Item,{..._,onAction:f},`${_.label}${M}`))})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[n&&!c.isPending&&e.jsxs(e.Fragment,{children:[o&&c.isAuthenticated&&e.jsx(Q0,{}),!o&&!c.isAuthenticated&&e.jsx(r0,{href:S?.href,onClick:f})]}),u&&b.cloneElement(u,{forceClose:!n}),e.jsxs("div",{className:"border-primary flex flex-col gap-8 border-t pt-4",children:[e.jsxs(p,{"aria-label":"settings navigation",children:[e.jsx(p.Item,{"aria-label":"Toggle theme",icon:k.icon,label:k.label,onAction:D,className:"cursor-pointer"}),j&&e.jsx(p.Item,{icon:"gear",label:"Settings",href:j?.href,onAction:f,isSelected:j?.isSelected,isDisabled:!c.isAuthenticated,altText:j.altText,iconNotification:j.iconNotification}),c.isAuthenticated?e.jsx(p.Item,{icon:"right-to-bracket",label:"Sign out",href:R?.href,onAction:f,isSelected:R?.isSelected,isDisabled:o}):e.jsx(p.Item,{icon:"right-to-bracket",label:"Sign in",href:S?.href,onAction:f,isSelected:S?.isSelected})]}),e.jsxs("div",{className:"flex h-[26px] justify-between gap-2",children:[n&&e.jsxs("div",{className:"flex w-full items-center justify-center gap-2 lg:justify-start",children:[e.jsx(s2,{invite:"uuegtnF2Q5"}),e.jsx(a2,{repo:"PlakarKorp/plakar"})]}),v&&e.jsx(L,{"aria-label":"Toggle sidebar",icon:f0,size:"sm",variant:"tertiary",onPress:v,tooltip:"Toggle sidebar",isDisabled:!r,className:h(!n&&"w-full text-center")})]})]})]})]})}function i2({subNavItems:t,user:s,isDemo:n=!1}){const{mode:a,toggleMode:l}=C(),r=t.find(i=>i.label==="Logout"),o=t.find(i=>i.label==="Login"),c=t.find(i=>i.label==="Settings");return e.jsxs(p0,{children:[e.jsx(X,{"aria-label":"Profile",className:"cursor-pointer",children:s.isAuthenticated?e.jsx(P,{text:s.name||"",url:s.avatarUrl,isLoading:s.isPending,isOffline:!1}):e.jsx(P,{icon:"incognito",isOffline:!0})}),!s.isPending&&e.jsx(x0,{placement:"bottom end",offset:4,children:e.jsxs(y,{children:[e.jsx(y.Item,{leftIcon:a.icon,label:a.label,onAction:l,className:"cursor-pointer"}),s.isAuthenticated?e.jsxs(e.Fragment,{children:[c&&e.jsx(y.Item,{leftIcon:"gear",label:"Settings",href:c.href,altText:c.altText}),e.jsx(y.Item,{leftIcon:"right-to-bracket",label:"Sign out",href:r?.href,isDisabled:n})]}):e.jsx(y.Item,{leftIcon:"right-to-bracket",label:"Sign in",href:o?.href})]})})]})}function c2(t){const[s,n]=b.useState(!1),{navItems:a,subNavItems:l,user:r,isDemo:o}=t,c=a.flatMap(u=>u.subItems||u).find(u=>u.isSelected),i=t.isEnterprise?"icon-enterprise":"icon";return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"border-primary bg-primary flex items-center justify-between border-b p-2 pl-4 lg:hidden",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b0,{to:"/",children:e.jsx(o0,{variant:i,className:"h-8.5"})}),e.jsx(I,{variant:"tertiary",leftIcon:"bars",size:"sm",onPress:()=>n(!0),children:c?.label})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(i2,{subNavItems:l,user:r,isDemo:o})})]}),e.jsx(W,{isOpen:s,onOpenChange:n,className:"z-2 fixed inset-0 bg-black/50 data-[entering]:animate-[modal-fade_150ms] data-[exiting]:animate-[modal-fade_reverse_150ms] xl:hidden",isDismissable:!0,children:e.jsx(Y,{className:"bg-primary w-70 fixed left-0 h-full overflow-auto shadow-xl data-[entering]:animate-[modal-slide-right_200ms_ease-out] data-[exiting]:animate-[modal-slide-right_150ms_reverse_ease-in]",children:e.jsx(J,{"aria-label":"Navigation",className:"h-full overflow-y-auto p-4",children:e.jsx(d0,{...t,isExpanded:!0,isFloating:!1,canExpand:!1,onCloseMenu:()=>n(!1)})})})})]})}function l2(){const{position:t}=T0(),{preview:s}=v0({strict:!1}),{is3xlDown:n}=l0();return!!s&&t==="horizontal"&&n}function r2(t){const{isLgUp:s,isXlUp:n}=l0(),a=l2(),[l,r]=b.useState(!0),[o,c]=b.useState(!1);if(!s)return e.jsx(c2,{...t});const i=!a&&n,u=l&&i||o,d=o&&!(l&&i)||!s,v=!a,f=()=>{c(!0)},k=()=>{c(!1)},D=()=>{r(E=>!E),c(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("aside",{className:h("border-primary bg-primary z-2 absolute h-full overflow-y-auto border-r p-4",u?"w-70":"w-18",d&&"shadow-xl"),onMouseEnter:f,onMouseLeave:k,children:e.jsx(d0,{...t,isExpanded:u,isFloating:d,canExpand:i,handleToggle:D})}),e.jsx("div",{className:h("h-full",u&&!d?"w-70":"w-18",v&&"transition-[width] duration-150 ease-out")})]})}function o2({children:t,...s}){return e.jsxs("div",{className:"flex h-full min-h-0 flex-col overflow-hidden lg:flex-row",children:[e.jsx(r2,{...s}),e.jsx("div",{className:"relative h-full min-h-0 flex-1",children:e.jsx("main",{className:"h-full overflow-auto",children:t})})]})}function d2({value:t,channel:s=!1}){const n=s?H(t).Channel:H(t).Pretty,a=e.jsx(m,{as:l=>e.jsx("button",{...l}),variant:"body",size:"xs",className:"text-tertiary",children:n});return n!==t?e.jsx(O,{label:t,children:a}):a}const V=[{label:"Dashboard",href:{to:"/"},icon:"house"},{label:"Snapshots",href:{to:"/snapshots"},icon:"folder-tree"},{label:"Alerting",href:{to:"/alerting"},icon:"list-check"},{label:"Analytics",href:{to:"/analytics"},icon:"chart-pie"},{label:"Integrations",href:{to:"/integrations"},icon:"plug"}],G=[{label:"Login",href:{to:"/login"}},{label:"Logout",href:{to:"/logout"}},{label:"Settings",href:{to:"/settings"}}],w=()=>e.jsx($,{variant:"text",size:"xs"});function u2({repositoryInfo:t,isPending:s}){const n=t?.configuration,a=t?.location;return s?[{label:"ID",value:w()},{label:"Location",value:w()},{label:"Chunking",value:w()},{label:"Compression",value:w()},{label:"Encryption",value:w()}]:[{label:"ID",value:e.jsx(j0,{value:n?.repository_id?.Value??"-",size:"xs",className:"h-4"})},{label:"Location",value:a?e.jsx(O,{label:a,children:e.jsx("span",{role:"button",children:a})}):"-"},{label:"Chunking",value:n?.chunking?.algorithm??"Chunking disabled",tooltip:"A chunking algorithm splits data into smaller pieces, or “chunks,” based on specific rules (e.g., fixed size or content-defined). This enables efficient deduplication by identifying and eliminating redundant data. Plakar currently uses FastCDC, a fast and content-aware chunking algorithm."},{label:"Compression",value:n?.compression?.algorithm??"Not compressed",tooltip:"A compression algorithm reduces the size of data by encoding patterns and redundancies, helping save storage space and speed up transfers. Different algorithms offer trade-offs between speed, compression ratio, and resource usage. Plakar currently uses LZ4, a high-speed compression algorithm optimized for fast storage and retrieval."},{label:"Encryption",value:n?.encryption?.data_algorithm??"Not encrypted",tooltip:"An encryption algorithm protects data by transforming it into an unreadable format, ensuring confidentiality and integrity. In encrypted repositories, the only way to access the data is with the correct passphrase — without it, the data remains completely inaccessible."}]}function f2({label:t,value:s,tooltip:n}){return e.jsx(t0.Item,{title:n?e.jsx(K0,{text:n,color:"inherit",children:t}):t,description:s})}function m2({forceClose:t}){const{api:s}=y0(),{isPending:n,isError:a,data:l}=N(w0(s,{repository:void 0})),[r,o]=z0("kloset-desription-open",!0),c=u2({repositoryInfo:l?.item,isPending:n});return a?null:e.jsx(q,{defaultExpandedKeys:r?["kloset"]:[],expandedKeys:t||!r?[]:["kloset"],className:"border-primary overflow-hidden border-t pl-3 pr-2 pt-4",children:e.jsx(q.Item,{id:"kloset",title:"Kloset store",icon:"box-archive",onExpandedChange:()=>o(!r),children:e.jsx("div",{className:"pt-1",children:e.jsx(t0,{direction:"row",size:"xs",singleColumn:!0,children:c.map(i=>e.jsx(f2,{label:i.label,value:i.value,tooltip:i.tooltip},i.label))})})})})}const h2=["info","warning","error","critical"],g2=["unread","read","pinned","discarded"],p2=n0({id:x(),user_id:x(),level:x().transform(t=>h2.includes(t)?t:"unknown"),type:x(),status:x().transform(t=>g2.includes(t)?t:"unknown"),code:x(),message:x(),details:I0(),created_at:x().transform(Q),updated_at:x().transform(Q),flags:a0().transform(t=>({isBanner:!!(t&1)}))}),x2=n0({total:a0(),items:L0(p2)});async function b2({repository:t,pagination:s,status:n}){let a;const l=new URLSearchParams({...k0(s),repository_id:t,reverse:"1"});n&&l.set("status",n);const r=`/api/proxy/v1/account/notifications?${l}`,o=await S0(()=>s0(r),_0);if(o.error)return{__type:"unauthenticated"};try{a=await o.data.json()}catch{throw new Error(`the API endpoint ${r} returned HTTP/${o.data.status} with an invalid JSON payload`)}return{__type:"ok",notifications:x2.parse(a)}}const F=({repository:t,status:s})=>N0({queryKey:["api","api.plakar.io","account","getAccountNotifications",t,s],refetchInterval:60*1e3,queryFn:async({pageParam:n})=>({...await b2({repository:t,pagination:{page:n.page,perPage:n.perPage},status:s}),page:n.page,perPage:n.perPage}),initialPageParam:{page:0,perPage:50},getNextPageParam:n=>n.notifications===void 0||(n.page+1)*n.perPage>=n.notifications.total?null:{page:n.page+1,perPage:n.perPage}});async function v2({notificationIds:t,status:s}){await s0("/api/proxy/v1/account/notifications/set-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification_ids:t,status:s})})}function u0(){const t=P0();return A0({mutationFn:async(...s)=>{if((await t.ensureQueryData(i0())).demo_mode)throw new Error("It is not possible to mark notifications as read in demo mode.");return v2(...s)},onSuccess:()=>{t.invalidateQueries({queryKey:["api","api.plakar.io","account","getAccountNotifications"]})}})}const j2={unknown:"default",info:"default",warning:"warning",error:"error",critical:"error"},y2={unknown:void 0,info:void 0,warning:"Warning",error:"Error",critical:"Critical Error"};function w2({repository:t}){const s=T(F({repository:t})),n=$0(),a=u0();if(s.isPending)return e.jsx(D0,{});if(s.isError)return e.jsx(R0,{illustrationType:"sad",title:"Something went wrong while fetching notifications.",description:s.error.message});const l=s.data.pages[0],r=s.data.pages.flatMap(i=>i.notifications?.items).filter(i=>i!==void 0);if(l.__type==="unauthenticated")return e.jsx(r0,{onClick:()=>n({to:"/login"})});if(r.length===0)return e.jsx("div",{className:"text-sm",children:"You have no unread notifications."});const o=r.some(i=>i.status==="unread"),c=()=>{a.mutate({notificationIds:r.filter(i=>i.status==="unread").map(i=>i.id),status:"read"},{onError:i=>{i instanceof c0?z({content:{children:i.responsePayload,variant:"error"}}):z({content:{children:i.toString(),variant:"error"}})}})};return e.jsxs("div",{className:"flex flex-col gap-3",children:[o&&e.jsx("div",{className:"self-end",children:e.jsx(I,{leftIcon:"check",variant:"secondary",size:"sm",onPress:c,children:"Mark all as read"})}),e.jsx(B,{ariaLabel:"Notifications",children:r.map(i=>e.jsx(B.Item,{severity:j2[i.level],title:y2[i.level],description:i.message,date:i.created_at.relativeToNow(),unread:i.status==="unread"},i.id))}),s.hasNextPage&&e.jsx(I,{size:"sm",variant:"secondary",onPress:()=>s.fetchNextPage(),isDisabled:s.isFetchingNextPage,children:"Load more"})]})}function z2({repository:t,open:s,setOpen:n}){return e.jsx(B0,{open:s,setOpen:n,title:"Notifications",children:e.jsx(w2,{repository:t})})}function N2({repository:t,onPress:s}){const n=T(F({repository:t,status:"unread"})),a=n.data?.pages[0].__type==="ok"?n.data.pages[0].notifications.total:void 0;return e.jsxs("span",{className:h(a!==void 0&&a>0&&"relative inline-block pr-2"),children:[e.jsx(L,{"aria-label":"Open notifications",variant:"tertiary",icon:(a!==void 0&&a>0,"bell"),onPress:s,size:"sm",tooltip:"Notifications"}),a!==void 0&&a>0&&e.jsx("span",{className:"px-0.75 pointer-events-none absolute -top-2 right-0 flex min-w-4 items-center justify-center rounded-full bg-red-500 text-xs font-medium text-white",children:a>99?"99+":a})]})}function k2(t){const s=b.useRef(!1),{data:n,isPending:a}=T(F({repository:t,status:"unread"})),{mutate:l}=u0(),o=n?.pages.map(f=>f.notifications?.items).flat().filter(f=>f?.flags.isBanner).reverse()?.[0],c=o?.level??"unknown",i=o?.id,u=o?.message,d=o?.flags.isBanner,v={unknown:"default",info:"default",warning:"warning",error:"error",critical:"error"}[c];b.useEffect(()=>{s.current||a||!i||!d||(z({content:{variant:v,title:c,buttonProps:{children:"Mark as read",variant:"secondary",slot:"close",onPress:()=>{l({notificationIds:[i],status:"read"},{onError:f=>{f instanceof c0?z({content:{children:f.responsePayload,variant:"error"}}):z({content:{children:f.toString(),variant:"error"}})}})}},children:u,closable:!1},sticky:!0}),s.current=!0)},[a,v,i,c,u,d,l])}function S2({repository:t,version:s,children:n}){const[a,l]=b.useState(!1);M0(),k2(t);const r=N(F0()),{data:{demo_mode:o}={}}=N(i0()),c=q0([...V,...G].map(d=>String(d.href?.to))),i=b.useMemo(()=>V.map(d=>({...d,isSelected:c===d.href?.to})),[c]),u=b.useMemo(()=>G.map(d=>({...d,isSelected:c===d.href?.to})),[c]);return e.jsxs(E0,{children:[e.jsx(o2,{navItems:i,subNavItems:u,user:{name:r.data?.name,avatarUrl:r.data?.avatar_url,isPending:r.isPending,isAuthenticated:!!r.data},version:s,controls:e.jsx(N2,{repository:t,onPress:()=>l(d=>!d)}),footer:e.jsx(m2,{}),isDemo:o,children:n}),e.jsx(z2,{open:a,setOpen:l,repository:t})]})}function O2(){const t=O0.useLoaderData();return e.jsx(S2,{repository:t.repository_id,version:t.version,children:e.jsx(C0,{})})}export{O2 as component};
