import{u}from"./useQuery-BzyMkyU9.js";import{ab as s,r,X as n,V as o,al as c}from"./index-CdIc90l8.js";function d(i=1e3*10){const t=u({...n(),refetchInterval:i}),e=o(),a=s();return r.useEffect(()=>{a.invalidate(),c(e)},[e,a,t.data?.authenticated]),t.isError?{status:"error"}:t.isPending?{status:"loading"}:{status:"ok",isAuthenticated:t.data.authenticated}}function l({status:i,returnUrl:t}){const e=d(1e3),a=s();r.useEffect(()=>{e.status==="ok"&&(i==="logged_in"&&e.isAuthenticated||i==="logged_out"&&!e.isAuthenticated)&&a.navigate({to:t||"/"})},[a,e,i,t])}export{l as a,d as u};
