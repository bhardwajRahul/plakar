import{bq as H,bc as K,cp as A,bC as B,a$ as m,bo as q,cq as T,bk as U,r as u,bl as W,bm as Q,cr as G,bK as J,cs as X,b2 as Y,R as x,bM as Z,bL as k,b6 as E,b9 as F,ba as _,bb as N,bV as ee,c7 as C,bP as I,bO as L,bQ as te,b4 as ae,c1 as se,ct as re,c3 as le,j as i,cu as ie,b as h,cv as ne,T as j,I as w,m as de,E as oe}from"./index-hfxJ9ND0.js";const R=new WeakMap;function S(a,e,t){return a?(typeof e=="string"&&(e=e.replace(/\s+/g,"")),`${R.get(a)}-${t}-${e}`):""}function ce(a,e,t){let{key:s,isDisabled:r,shouldSelectOnPressUp:d}=a,{selectionManager:l,selectedKey:o}=e,n=s===o,c=r||e.isDisabled||e.selectionManager.isDisabled(s),{itemProps:f,isPressed:b}=H({selectionManager:l,key:s,ref:t,isDisabled:c,shouldSelectOnPressUp:d,linkBehavior:"selection"}),$=S(e,s,"tab"),p=S(e,s,"tabpanel"),{tabIndex:v}=f,y=e.collection.getItem(s),g=K(y?.props,{labelable:!0});delete g.id;let z=A(y?.props),{focusableProps:O}=B({isDisabled:c},t);return{tabProps:m(g,O,z,f,{id:$,"aria-selected":n,"aria-disabled":c||void 0,"aria-controls":n?p:void 0,tabIndex:c?void 0:v,role:"tab"}),isSelected:n,isDisabled:c,isPressed:b}}function ue(a,e,t){let s=q(t)?void 0:0;var r;const d=S(e,(r=a.id)!==null&&r!==void 0?r:e?.selectedKey,"tabpanel"),l=T({...a,id:d,"aria-labelledby":S(e,e?.selectedKey,"tab")});return{tabPanelProps:m(l,{tabIndex:s,role:"tabpanel","aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]})}}class fe{getKeyLeftOf(e){return this.flipDirection?this.getNextKey(e):this.getPreviousKey(e)}getKeyRightOf(e){return this.flipDirection?this.getPreviousKey(e):this.getNextKey(e)}isDisabled(e){var t,s;return this.disabledKeys.has(e)||!!(!((s=this.collection.getItem(e))===null||s===void 0||(t=s.props)===null||t===void 0)&&t.isDisabled)}getFirstKey(){let e=this.collection.getFirstKey();return e!=null&&this.isDisabled(e)&&(e=this.getNextKey(e)),e}getLastKey(){let e=this.collection.getLastKey();return e!=null&&this.isDisabled(e)&&(e=this.getPreviousKey(e)),e}getKeyAbove(e){return this.tabDirection?null:this.getPreviousKey(e)}getKeyBelow(e){return this.tabDirection?null:this.getNextKey(e)}getNextKey(e){let t=e;do t=this.collection.getKeyAfter(t),t==null&&(t=this.collection.getFirstKey());while(t!=null&&this.isDisabled(t));return t}getPreviousKey(e){let t=e;do t=this.collection.getKeyBefore(t),t==null&&(t=this.collection.getLastKey());while(t!=null&&this.isDisabled(t));return t}constructor(e,t,s,r=new Set){this.collection=e,this.flipDirection=t==="rtl"&&s==="horizontal",this.disabledKeys=r,this.tabDirection=s==="horizontal"}}function be(a,e,t){let{orientation:s="horizontal",keyboardActivation:r="automatic"}=a,{collection:d,selectionManager:l,disabledKeys:o}=e,{direction:n}=U(),c=u.useMemo(()=>new fe(d,n,s,o),[d,o,s,n]),{collectionProps:f}=W({ref:t,selectionManager:l,keyboardDelegate:c,selectOnFocus:r==="automatic",disallowEmptySelection:!0,scrollRef:t,linkBehavior:"selection"}),b=Q();R.set(e,b);let $=T({...a,id:b});return{tabListProps:{...m(f,$),role:"tablist","aria-orientation":s,tabIndex:void 0}}}function xe(a){var e,t;let s=G({...a,onSelectionChange:a.onSelectionChange?n=>{var c;n!=null&&((c=a.onSelectionChange)===null||c===void 0||c.call(a,n))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(t=(e=a.defaultSelectedKey)!==null&&e!==void 0?e:M(a.collection,a.disabledKeys?new Set(a.disabledKeys):new Set))!==null&&t!==void 0?t:void 0}),{selectionManager:r,collection:d,selectedKey:l}=s,o=u.useRef(l);return u.useEffect(()=>{let n=l;a.selectedKey==null&&(r.isEmpty||n==null||!d.getItem(n))&&(n=M(d,s.disabledKeys),n!=null&&r.setSelectedKeys([n])),(n!=null&&r.focusedKey==null||!r.isFocused&&n!==o.current)&&r.setFocusedKey(n),o.current=n}),{...s,isDisabled:a.isDisabled||!1}}function M(a,e){let t=null;if(a){var s,r,d,l;for(t=a.getFirstKey();t!=null&&(e.has(t)||!((r=a.getItem(t))===null||r===void 0||(s=r.props)===null||s===void 0)&&s.isDisabled)&&t!==a.getLastKey();)t=a.getKeyAfter(t);t!=null&&(e.has(t)||!((l=a.getItem(t))===null||l===void 0||(d=l.props)===null||d===void 0)&&d.isDisabled)&&t===a.getLastKey()&&(t=a.getFirstKey())}return t}const D=u.createContext(null),P=u.createContext(null),$e=u.forwardRef(function(e,t){[e,t]=Y(e,t,D);let{children:s,orientation:r="horizontal"}=e;return s=u.useMemo(()=>typeof s=="function"?s({orientation:r,defaultChildren:null}):s,[s,r]),x.createElement(Z,{content:s},d=>x.createElement(he,{props:e,collection:d,tabsRef:t}))});function he({props:a,tabsRef:e,collection:t}){let{orientation:s="horizontal"}=a,r=xe({...a,collection:t,children:void 0}),{focusProps:d,isFocused:l,isFocusVisible:o}=F({within:!0}),n=u.useMemo(()=>({orientation:s,isFocusWithin:l,isFocusVisible:o}),[s,l,o]),c=N({...a,defaultClassName:"react-aria-Tabs",values:n}),f=K(a,{global:!0});return x.createElement("div",{...m(f,c,d),ref:e,slot:a.slot||void 0,"data-focused":l||void 0,"data-orientation":s,"data-focus-visible":o||void 0,"data-disabled":r.isDisabled||void 0},x.createElement(I,{values:[[D,a],[P,r]]},c.children))}const pe=u.forwardRef(function(e,t){return u.useContext(P)?x.createElement(ye,{props:e,forwardedRef:t}):x.createElement(k,e)});function ye({props:a,forwardedRef:e}){let t=u.useContext(P),{CollectionRoot:s}=u.useContext(L),{orientation:r="horizontal",keyboardActivation:d="automatic"}=ae(D),l=E(e),{tabListProps:o}=be({...a,orientation:r,keyboardActivation:d},t,l),n=N({...a,children:null,defaultClassName:"react-aria-TabList",values:{orientation:r,state:t}}),c=K(a,{global:!0});return delete c.id,x.createElement("div",{...m(c,n,o),ref:l,"data-orientation":r||void 0},x.createElement(se,null,x.createElement(s,{collection:t.collection,persistedKeys:re(t.selectionManager.focusedKey)})))}class V extends le{}V.type="item";const me=J(V,(a,e,t)=>{let s=u.useContext(P),r=E(e),{tabProps:d,isSelected:l,isDisabled:o,isPressed:n}=ce({key:t.key,...a},s,r),{focusProps:c,isFocused:f,isFocusVisible:b}=F(),{hoverProps:$,isHovered:p}=_({isDisabled:o,onHoverStart:a.onHoverStart,onHoverEnd:a.onHoverEnd,onHoverChange:a.onHoverChange}),v=N({...a,id:void 0,children:t.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:l,isDisabled:o,isFocused:f,isFocusVisible:b,isPressed:n,isHovered:p}}),y=t.props.href?"a":"div",g=K(a,{global:!0});return delete g.id,delete g.onClick,x.createElement(y,{...m(g,v,d,c,$),ref:r,"data-selected":l||void 0,"data-disabled":o||void 0,"data-focused":f||void 0,"data-focus-visible":b||void 0,"data-pressed":n||void 0,"data-hovered":p||void 0},x.createElement(ee.Provider,{value:{isSelected:l}},v.children))}),ve=X(function(e,t){const s=u.useContext(P);let r=E(t),{id:d,...l}=e,{tabPanelProps:o}=ue(e,s,r),{focusProps:n,isFocused:c,isFocusVisible:f}=F(),b=s.selectedKey===e.id,$=N({...e,defaultClassName:"react-aria-TabPanel",values:{isFocused:c,isFocusVisible:f,isInert:C(!b),state:s}});if(!b&&!e.shouldForceMount)return null;let p=K(l,{global:!0});delete p.id;let v=b?m(p,o,n,$):$;return x.createElement("div",{...v,ref:r,"data-focused":c||void 0,"data-focus-visible":f||void 0,inert:C(!b||e.inert),"data-inert":b?void 0:"true"},x.createElement(I,{values:[[D,null],[P,null]]},x.createElement(L.Provider,{value:te},$.children)))});function ge({isLoading:a,className:e}){const[t,s]=u.useState(!1),[r,d]=u.useState(0);return u.useEffect(()=>{let l=null,o=null;return a?(s(!0),d(0),o=setInterval(()=>{d(n=>n<90?n+Math.random()*10:n)},200)):(d(100),l=setTimeout(()=>{s(!1),d(0)},300)),()=>{l&&clearTimeout(l),o&&clearInterval(o)}},[a]),t?i.jsxs(ie,{value:r,minValue:0,maxValue:100,className:h("h-1 w-full bg-transparent",e),children:[i.jsx(ne,{className:"sr-only",children:"Loading..."}),i.jsx("div",{className:h("bg-accent h-full transition-all duration-200 ease-out"),style:{width:`${r}%`}})]}):null}function Pe({variant:a,ariaLabel:e,items:t,selected:s,className:r,onSelectionChange:d}){return i.jsxs($e,{selectedKey:s,onSelectionChange:d,className:r,children:[i.jsx(pe,{"aria-label":e,items:t,className:h({"flex w-fit gap-2":a==="underlined","border-secondary bg-tertiary flex gap-1 rounded-lg border p-1":a==="pill","flex flex-col gap-4":a==="vertical"}),children:t.map(l=>i.jsxs(me,{id:l.id,className:h("flex flex-1 cursor-pointer items-center justify-center gap-3 whitespace-nowrap",a==="underlined"&&{"border-b-2 px-4 py-3":!0,"text-secondary hover:border-secondary hover:text-secondary data-selected:border-accent-heavy data-selected:text-primary border-transparent":s!==l.id,"border-accent-heavy text-primary":s===l.id},a==="pill"&&{"text-tertiary hover:bg-tertiary-hover data-selected:bg-accent data-selected:text-on-brand h-10 rounded-lg px-2 py-1.5":!0},a==="vertical"&&{"text-on-brand justify-start border-l-4 px-4 py-3":!0,"border-transparent":s!==l.id,"border-on-accent":s===l.id}),href:l.href,children:[i.jsx(j,{as:"span",size:a==="vertical"?"md":"sm",weight:s===l.id?"medium":"normal",children:l.title}),l.icon&&i.jsx(w,{type:l.icon,size:"md"}),l.tag&&i.jsx(de,{variant:"heavy",radius:"sqrt",className:"-my-2",children:l.tag})]},l.id))}),i.jsx(k,{items:t,children:l=>i.jsx(ve,{className:"flex h-full min-h-0 flex-col",children:l.content&&i.jsx("div",{className:"border-primary flex min-h-0 flex-1 flex-col border-t",children:l.content})})})]})}function Ke({icon:a,type:e="default",size:t="md",className:s,loading:r=!1}){return i.jsx("div",{className:h("relative flex w-fit items-center justify-center rounded-md",{default:"bg-tertiary text-tertiary",accent:"bg-accent-tertiary text-accent",sources:"bg-source-tertiary text-source",destinations:"bg-destination-tertiary text-destination",stores:"bg-store-tertiary text-store",secrets_providers:"bg-secret-provider-tertiary text-secret-provider",disabled:"bg-disable text-disable",error:"bg-error-tertiary text-error",warning:"bg-warning-tertiary text-warning"}[e],{sm:"p-2",md:"p-3"}[t],s),children:r?i.jsx(oe,{size:t==="md"?"2xl":"lg",inheritColor:!0}):i.jsxs(i.Fragment,{children:[i.jsx(w,{type:a,size:t==="md"?"2xl":"lg"}),a==="plug-circle-xmark"&&i.jsx(w,{type:"error-circle",size:"md",className:h("text-error absolute",t==="md"?"bottom-[0.90625rem] right-3 h-3.5 w-3.5":"bottom-3 right-2 h-2.5 w-2.5")}),a==="plug-circle-check"&&i.jsx(w,{type:"success-circle",size:"md",className:h("text-success absolute",t==="md"?"bottom-[0.90625rem] right-3 h-3.5 w-3.5":"bottom-3 right-2 h-2.5 w-2.5")})]})})}function je(a){const[e,t]=u.useState(!1);return u.useEffect(()=>{if(!a.current)return;const s=()=>{if(!a.current)return;const l=a.current.getBoundingClientRect().bottom<=0;t(l)},r=document.querySelector("main")??window;return r.addEventListener("scroll",s,{passive:!0}),()=>{r.removeEventListener("scroll",s)}},[a]),e}function we({children:a}){return i.jsx("div",{className:h("z-1 absolute left-0 right-0 top-0","bg-primary border-primary border-b"),children:i.jsx("div",{className:"px-2 py-3 2xl:container lg:px-4 2xl:mx-auto",children:i.jsx("div",{className:"flex items-center justify-end",children:a})})})}function Ne({title:a,description:e,isLoading:t=!1,breadcrumb:s,controls:r,children:d,className:l,tabItems:o,selectedTab:n,variant:c="main",icon:f,iconBadgeType:b}){const $=u.useRef(null),p=je($);return i.jsxs("div",{className:h("flex h-full flex-col",l),children:[i.jsx(ge,{isLoading:t,className:"fixed left-0 top-0 z-50"}),r&&p&&i.jsx(we,{children:i.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[i.jsx(j,{as:"span",variant:"heading",size:"md",weight:"semibold",className:"text-primary hidden sm:block",children:a}),i.jsx("div",{className:"w-full sm:w-auto",children:r})]})}),(a||s)&&i.jsx("div",{className:h("lg:px-4",{main:h("bg-primary border-primary border-b px-2 pt-4",!o&&"pb-4"),sub:"bg-secondary pt-2 md:px-2"}[c]),children:i.jsxs("div",{className:"flex flex-col gap-2 2xl:container 2xl:mx-auto",children:[s,a&&i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[f&&i.jsx(Ke,{icon:f,type:b}),i.jsxs("div",{children:[i.jsx(j,{as:c==="main"?"h1":"h2",variant:"heading",size:"md",weight:"semibold",className:"text-primary",children:a}),i.jsx(j,{variant:"body",size:"sm",className:"text-secondary",children:e})]})]}),r&&i.jsx("div",{ref:$,className:"ml-auto w-full sm:w-auto",children:r})]}),o&&i.jsx(Pe,{variant:"underlined",ariaLabel:"tabs",items:o,selected:n})]})}),i.jsx("div",{className:h("flex-1 py-4 2xl:container lg:px-4 2xl:mx-auto",{main:"px-2",sub:"md:px-2"}[c]),children:d})]})}export{Ne as M,Pe as T};
