import{bO as A,bA as K,cN as H,b_ as B,bn as y,bM as U,cO as T,bI as q,r as u,bJ as W,bK as J,cP as Q,c6 as Z,cQ as G,bq as X,R as x,c8 as Y,c7 as I,bu as E,bx as F,by as _,bz as N,ch as ee,cv as C,cb as k,ca as L,cc as te,bs as ae,cp as se,cR as le,cr as ie,j as r,cS as re,d as h,cT as ne,I as j,T as w,ah as de,cU as oe,Z as ce}from"./index-Aj8lmPfQ.js";const R=new WeakMap;function S(a,e,t){return a?(typeof e=="string"&&(e=e.replace(/\s+/g,"")),`${R.get(a)}-${t}-${e}`):""}function ue(a,e,t){let{key:s,isDisabled:l,shouldSelectOnPressUp:d}=a,{selectionManager:i,selectedKey:o}=e,n=s===o,c=l||e.isDisabled||e.selectionManager.isDisabled(s),{itemProps:f,isPressed:b}=A({selectionManager:i,key:s,ref:t,isDisabled:c,shouldSelectOnPressUp:d,linkBehavior:"selection"}),$=S(e,s,"tab"),m=S(e,s,"tabpanel"),{tabIndex:v}=f,p=e.collection.getItem(s),g=K(p?.props,{labelable:!0});delete g.id;let V=H(p?.props),{focusableProps:O}=B({isDisabled:c},t);return{tabProps:y(g,O,V,f,{id:$,"aria-selected":n,"aria-disabled":c||void 0,"aria-controls":n?m:void 0,tabIndex:c?void 0:v,role:"tab"}),isSelected:n,isDisabled:c,isPressed:b}}function fe(a,e,t){let s=U(t)?void 0:0;var l;const d=S(e,(l=a.id)!==null&&l!==void 0?l:e?.selectedKey,"tabpanel"),i=T({...a,id:d,"aria-labelledby":S(e,e?.selectedKey,"tab")});return{tabPanelProps:y(i,{tabIndex:s,role:"tabpanel","aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]})}}class be{getKeyLeftOf(e){return this.flipDirection?this.getNextKey(e):this.getPreviousKey(e)}getKeyRightOf(e){return this.flipDirection?this.getPreviousKey(e):this.getNextKey(e)}isDisabled(e){var t,s;return this.disabledKeys.has(e)||!!(!((s=this.collection.getItem(e))===null||s===void 0||(t=s.props)===null||t===void 0)&&t.isDisabled)}getFirstKey(){let e=this.collection.getFirstKey();return e!=null&&this.isDisabled(e)&&(e=this.getNextKey(e)),e}getLastKey(){let e=this.collection.getLastKey();return e!=null&&this.isDisabled(e)&&(e=this.getPreviousKey(e)),e}getKeyAbove(e){return this.tabDirection?null:this.getPreviousKey(e)}getKeyBelow(e){return this.tabDirection?null:this.getNextKey(e)}getNextKey(e){let t=e;do t=this.collection.getKeyAfter(t),t==null&&(t=this.collection.getFirstKey());while(t!=null&&this.isDisabled(t));return t}getPreviousKey(e){let t=e;do t=this.collection.getKeyBefore(t),t==null&&(t=this.collection.getLastKey());while(t!=null&&this.isDisabled(t));return t}constructor(e,t,s,l=new Set){this.collection=e,this.flipDirection=t==="rtl"&&s==="horizontal",this.disabledKeys=l,this.tabDirection=s==="horizontal"}}function xe(a,e,t){let{orientation:s="horizontal",keyboardActivation:l="automatic"}=a,{collection:d,selectionManager:i,disabledKeys:o}=e,{direction:n}=q(),c=u.useMemo(()=>new be(d,n,s,o),[d,o,s,n]),{collectionProps:f}=W({ref:t,selectionManager:i,keyboardDelegate:c,selectOnFocus:l==="automatic",disallowEmptySelection:!0,scrollRef:t,linkBehavior:"selection"}),b=J();R.set(e,b);let $=T({...a,id:b});return{tabListProps:{...y(f,$),role:"tablist","aria-orientation":s,tabIndex:void 0}}}function $e(a){var e,t;let s=Q({...a,onSelectionChange:a.onSelectionChange?n=>{var c;n!=null&&((c=a.onSelectionChange)===null||c===void 0||c.call(a,n))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(t=(e=a.defaultSelectedKey)!==null&&e!==void 0?e:M(a.collection,a.disabledKeys?new Set(a.disabledKeys):new Set))!==null&&t!==void 0?t:void 0}),{selectionManager:l,collection:d,selectedKey:i}=s,o=u.useRef(i);return u.useEffect(()=>{let n=i;a.selectedKey==null&&(l.isEmpty||n==null||!d.getItem(n))&&(n=M(d,s.disabledKeys),n!=null&&l.setSelectedKeys([n])),(n!=null&&l.focusedKey==null||!l.isFocused&&n!==o.current)&&l.setFocusedKey(n),o.current=n}),{...s,isDisabled:a.isDisabled||!1}}function M(a,e){let t=null;if(a){var s,l,d,i;for(t=a.getFirstKey();t!=null&&(e.has(t)||!((l=a.getItem(t))===null||l===void 0||(s=l.props)===null||s===void 0)&&s.isDisabled)&&t!==a.getLastKey();)t=a.getKeyAfter(t);t!=null&&(e.has(t)||!((i=a.getItem(t))===null||i===void 0||(d=i.props)===null||d===void 0)&&d.isDisabled)&&t===a.getLastKey()&&(t=a.getFirstKey())}return t}const D=u.createContext(null),P=u.createContext(null),he=u.forwardRef(function(e,t){[e,t]=X(e,t,D);let{children:s,orientation:l="horizontal"}=e;return s=u.useMemo(()=>typeof s=="function"?s({orientation:l,defaultChildren:null}):s,[s,l]),x.createElement(Y,{content:s},d=>x.createElement(me,{props:e,collection:d,tabsRef:t}))});function me({props:a,tabsRef:e,collection:t}){let{orientation:s="horizontal"}=a,l=$e({...a,collection:t,children:void 0}),{focusProps:d,isFocused:i,isFocusVisible:o}=F({within:!0}),n=u.useMemo(()=>({orientation:s,isFocusWithin:i,isFocusVisible:o}),[s,i,o]),c=N({...a,defaultClassName:"react-aria-Tabs",values:n}),f=K(a,{global:!0});return x.createElement("div",{...y(f,c,d),ref:e,slot:a.slot||void 0,"data-focused":i||void 0,"data-orientation":s,"data-focus-visible":o||void 0,"data-disabled":l.isDisabled||void 0},x.createElement(k,{values:[[D,a],[P,l]]},c.children))}const pe=u.forwardRef(function(e,t){return u.useContext(P)?x.createElement(ye,{props:e,forwardedRef:t}):x.createElement(I,e)});function ye({props:a,forwardedRef:e}){let t=u.useContext(P),{CollectionRoot:s}=u.useContext(L),{orientation:l="horizontal",keyboardActivation:d="automatic"}=ae(D),i=E(e),{tabListProps:o}=xe({...a,orientation:l,keyboardActivation:d},t,i),n=N({...a,children:null,defaultClassName:"react-aria-TabList",values:{orientation:l,state:t}}),c=K(a,{global:!0});return delete c.id,x.createElement("div",{...y(c,n,o),ref:i,"data-orientation":l||void 0},x.createElement(se,null,x.createElement(s,{collection:t.collection,persistedKeys:le(t.selectionManager.focusedKey)})))}class z extends ie{}z.type="item";const ve=Z(z,(a,e,t)=>{let s=u.useContext(P),l=E(e),{tabProps:d,isSelected:i,isDisabled:o,isPressed:n}=ue({key:t.key,...a},s,l),{focusProps:c,isFocused:f,isFocusVisible:b}=F(),{hoverProps:$,isHovered:m}=_({isDisabled:o,onHoverStart:a.onHoverStart,onHoverEnd:a.onHoverEnd,onHoverChange:a.onHoverChange}),v=N({...a,id:void 0,children:t.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:i,isDisabled:o,isFocused:f,isFocusVisible:b,isPressed:n,isHovered:m}}),p=t.props.href?"a":"div",g=K(a,{global:!0});return delete g.id,delete g.onClick,x.createElement(p,{...y(g,v,d,c,$),ref:l,"data-selected":i||void 0,"data-disabled":o||void 0,"data-focused":f||void 0,"data-focus-visible":b||void 0,"data-pressed":n||void 0,"data-hovered":m||void 0},x.createElement(ee.Provider,{value:{isSelected:i}},v.children))}),ge=G(function(e,t){const s=u.useContext(P);let l=E(t),{id:d,...i}=e,{tabPanelProps:o}=fe(e,s,l),{focusProps:n,isFocused:c,isFocusVisible:f}=F(),b=s.selectedKey===e.id,$=N({...e,defaultClassName:"react-aria-TabPanel",values:{isFocused:c,isFocusVisible:f,isInert:C(!b),state:s}});if(!b&&!e.shouldForceMount)return null;let m=K(i,{global:!0});delete m.id;let v=b?y(m,o,n,$):$;return x.createElement("div",{...v,ref:l,"data-focused":c||void 0,"data-focus-visible":f||void 0,inert:C(!b||e.inert),"data-inert":b?void 0:"true"},x.createElement(k,{values:[[D,null],[P,null]]},x.createElement(L.Provider,{value:te},$.children)))});function Pe(a){const[e,t]=u.useState(!1);return u.useEffect(()=>{if(!a.current)return;const s=()=>{if(!a.current)return;const i=a.current.getBoundingClientRect().bottom<=0;t(i)},l=document.querySelector("main")??window;return l.addEventListener("scroll",s,{passive:!0}),()=>{l.removeEventListener("scroll",s)}},[a]),e}function Ke({isLoading:a,className:e}){const[t,s]=u.useState(!1),[l,d]=u.useState(0);return u.useEffect(()=>{let i=null,o=null;return a?(s(!0),d(0),o=setInterval(()=>{d(n=>n<90?n+Math.random()*10:n)},200)):(d(100),i=setTimeout(()=>{s(!1),d(0)},300)),()=>{i&&clearTimeout(i),o&&clearInterval(o)}},[a]),t?r.jsxs(re,{value:l,minValue:0,maxValue:100,className:h("h-1 w-full bg-transparent",e),children:[r.jsx(ne,{className:"sr-only",children:"Loading..."}),r.jsx("div",{className:h("bg-accent h-full transition-all duration-200 ease-out"),style:{width:`${l}%`}})]}):null}function je({variant:a,ariaLabel:e,items:t,selected:s,className:l,onSelectionChange:d}){return r.jsxs(he,{selectedKey:s,onSelectionChange:d,className:l,children:[r.jsx(pe,{"aria-label":e,items:t,className:h({"scrollbar-hide flex max-w-fit gap-2 overflow-auto":a==="underlined","border-secondary bg-tertiary flex gap-1 rounded-lg border p-1":a==="pill"}),children:t.map(i=>r.jsxs(ve,{id:i.id,className:h("relative flex flex-1 cursor-pointer items-center justify-center gap-2 whitespace-nowrap",a==="underlined"&&{"border-b-2 border-transparent px-4 py-3":!0,"text-secondary hover:border-secondary hover:text-primary":s!==i.id,"text-primary":s===i.id},a==="pill"&&{"text-tertiary hover:bg-tertiary-hover data-selected:bg-accent data-selected:text-on-brand h-10 rounded-lg px-2 py-1.5":!0}),href:i.href,children:[i.icon&&r.jsx(j,{type:i.icon,size:"md"}),r.jsx(w,{as:"span",size:"sm",weight:a==="pill"?"medium":"normal",children:i.title}),i.tag&&r.jsx(de,{variant:"heavy",radius:"sqrt",className:"-my-2",children:i.tag}),a==="underlined"&&r.jsx(oe,{className:"border-accent-heavy absolute -bottom-0.5 left-0 h-1 w-full border-b-2 motion-safe:transition-[translate,width,height]"})]},i.id))}),r.jsx(I,{items:t,children:i=>r.jsx(ge,{className:"flex h-full min-h-0 flex-col",children:i.content&&r.jsx("div",{className:"border-primary flex min-h-0 flex-1 flex-col border-t",children:i.content})})})]})}function we({icon:a,type:e="default",size:t="md",className:s,loading:l=!1}){return r.jsx("div",{className:h("relative flex w-fit items-center justify-center rounded-md",{default:"bg-tertiary text-tertiary",accent:"bg-accent-tertiary text-accent",sources:"bg-source-tertiary text-source",destinations:"bg-destination-tertiary text-destination",stores:"bg-store-tertiary text-store",secrets_providers:"bg-secret-provider-tertiary text-secret-provider",disabled:"bg-disable text-disable",error:"bg-error-tertiary text-error",warning:"bg-warning-tertiary text-warning"}[e],{sm:"p-2",md:"p-3"}[t],s),children:l?r.jsx(ce,{size:t==="md"?"2xl":"lg",inheritColor:!0}):r.jsxs(r.Fragment,{children:[r.jsx(j,{type:a,size:t==="md"?"2xl":"lg"}),a==="plug-circle-xmark"&&r.jsx(j,{type:"error-circle",size:"md",className:h("text-error absolute",t==="md"?"bottom-[0.90625rem] right-3 h-3.5 w-3.5":"bottom-3 right-2 h-2.5 w-2.5")}),a==="plug-circle-check"&&r.jsx(j,{type:"success-circle",size:"md",className:h("text-success absolute",t==="md"?"bottom-[0.90625rem] right-3 h-3.5 w-3.5":"bottom-3 right-2 h-2.5 w-2.5")})]})})}function Se({children:a}){return r.jsx("div",{className:h("z-1 absolute left-0 right-0 top-0","bg-primary border-primary border-b"),children:r.jsx("div",{className:"px-2 py-3 2xl:container lg:px-4 2xl:mx-auto",children:r.jsx("div",{className:"flex items-center justify-end",children:a})})})}function De({title:a,description:e,isLoading:t=!1,breadcrumb:s,controls:l,children:d,className:i,tabItems:o,selectedTab:n,variant:c="main",icon:f,iconBadgeType:b}){const $=u.useRef(null),m=Pe($);return r.jsxs("div",{className:h("flex h-full flex-col",i),children:[r.jsx(Ke,{isLoading:t,className:"fixed left-0 top-0 z-50"}),l&&m&&r.jsx(Se,{children:r.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[r.jsx(w,{as:"span",variant:"heading",size:"md",weight:"semibold",className:"text-primary hidden sm:block",children:a}),r.jsx("div",{className:"w-full sm:w-auto",children:l})]})}),(a||s)&&r.jsx("div",{className:h("lg:px-4",{main:h("bg-primary border-primary border-b px-2 pt-4",!o&&"pb-4"),sub:"bg-secondary pt-2 md:px-2"}[c]),children:r.jsxs("div",{className:"flex flex-col gap-2 2xl:container 2xl:mx-auto",children:[s,a&&r.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[f&&r.jsx(we,{icon:f,type:b}),r.jsxs("div",{children:[r.jsx(w,{as:c==="main"?"h1":"h2",variant:"heading",size:"md",weight:"semibold",className:"text-primary",children:a}),r.jsx(w,{variant:"body",size:"sm",className:"text-secondary",children:e})]})]}),l&&r.jsx("div",{ref:$,className:"ml-auto w-full sm:w-auto",children:l})]}),o&&r.jsx(je,{variant:"underlined",ariaLabel:"tabs",items:o,selected:n})]})}),r.jsx("div",{className:h("flex-1 py-4 2xl:container lg:px-4 2xl:mx-auto",{main:"px-2",sub:"md:px-2"}[c]),children:d})]})}export{De as M,je as T};
